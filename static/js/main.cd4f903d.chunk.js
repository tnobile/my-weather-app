(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={textInput:"Inputs_textInput__qeVoo",inlineFlex:"Inputs_inlineFlex__30qcM",Radio:"Inputs_Radio__2PRPz",Button:"Inputs_Button__3HfNQ"}},function(e,t,n){e.exports={circle:"Logo_circle__2RiV1",sky:"Logo_sky__23K2O",cloud1:"Logo_cloud1__1hNUH",cloud2:"Logo_cloud2__2rTBv",cloud3:"Logo_cloud3__2Vwp2"}},function(e,t,n){e.exports={Wrapper:"Conditions_Wrapper__ZCA7t",Small:"Conditions_Small__2vGVg",Loader:"Conditions_Loader__Nw5KN",spin:"Conditions_spin__3MyJr"}},,,function(e,t,n){e.exports={Button:"Forecast_Button__xX44_"}},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(7),o=n.n(i),r=(n(13),n(14),n(2)),s=n(5),l=n.n(s),u=n(0),j=function(e){return Object(u.jsxs)("div",{className:l.a.Wrapper,children:[e.error&&Object(u.jsx)("small",{className:l.a.Small,children:"Please enter a valid city and key."}),e.loading&&Object(u.jsx)("div",{className:l.a.Loader}),200===e.responseObj.cod?Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:e.responseObj.name})}),Object(u.jsxs)("p",{children:["It is currently ",Math.round(e.responseObj.main.temp)," degrees out with ",e.responseObj.weather[0].description,"."]})]}):null]})},d=n(3),p=n.n(d),b=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Find Current Weather Conditions"}),Object(u.jsxs)("form",{onSubmit:e.getForecast,children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter Key",maxLength:"49",className:p.a.textInput,value:e.mykey,onChange:function(t){return e.handleKey(t.target.value)}}),Object(u.jsx)("input",{type:"text",placeholder:"Enter SleepTime",maxLength:"49",className:p.a.textInput,value:e.sleepTime,onChange:function(t){return e.handleSleepTime(t.target.value)}}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter City",maxLength:"49",className:[p.a.textInput,p.a.inlineFlex].join(" "),value:e.city,onChange:function(t){return e.handleCity(t.target.value)}}),Object(u.jsx)("button",{type:"button",className:[p.a.inlineFlex].join(" "),onClick:function(){return e.handleCity("")},children:"x"})]}),Object(u.jsxs)("label",{className:p.a.Radio,children:[Object(u.jsx)("input",{type:"radio",name:"units",checked:"imperial"===e.unit,value:"imperial",onChange:function(t){return e.handleUnit(t.target.value)}}),"Fahrenheit"]}),Object(u.jsxs)("label",{className:p.a.Radio,children:[Object(u.jsx)("input",{type:"radio",name:"units",checked:"metric"===e.unit,value:"metric",onChange:function(t){return e.handleUnit(t.target.value)}}),"Celcius"]}),Object(u.jsx)("button",{className:p.a.Button,type:"submit",children:"Get Forecast"})]})]})},h=n(8),O=n.n(h);function m(e){return 5*(e-32)/9}function f(e){return 9*e/5+32}function x(e,t){var n=parseFloat(e);if(Number.isNaN(n))return"";var c=t(n);return(Math.round(1e3*c)/1e3).toString()}var g=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)("metric"),p=Object(r.a)(d,2),h=p[0],g=p[1],_=Object(c.useState)(!1),v=Object(r.a)(_,2),y=v[0],N=v[1],C=Object(c.useState)(!1),S=Object(r.a)(C,2),w=S[0],F=S[1],L=Object(c.useState)(""),I=Object(r.a)(L,2),k=I[0],B=I[1],T=Object(c.useState)(1e3),P=Object(r.a)(T,2),R=P[0],E=P[1],J=Object(c.useState)(),M=Object(r.a)(J,2),K=M[0],U=M[1],W=Object(c.useState)(),A=Object(r.a)(W,2),V=A[0],q=A[1],D=Object(c.useState)([{scale:"c",temp:0},{scale:"f",temp:0}]),G=Object(r.a)(D,2),H=G[0],z=G[1];Object(c.useEffect)((function(){return console.log(JSON.stringify(H))}),[H]),Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){q(e.coords.latitude),U(e.coords.longitude)})),console.log("Latitude is:",V),console.log("Longitude is:",K)}),[V,K]);var Q=encodeURIComponent(s);function X(e){l(e)}return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:H[0].temp?JSON.stringify(H):""}),Object(u.jsx)(b,{getForecast:function(e){if(e.preventDefault(),k&&0!==k.length){N(!1),a({}),F(!0);var t=s?"https://api.openweathermap.org/data/2.5/weather?q=".concat(Q,"&units=").concat(h,"&appid=").concat(k):"https://api.openweathermap.org/data/2.5/weather?lat=".concat(V,"&lon=").concat(K,"&units=").concat(h,"&appid=").concat(k);console.log(t),fetch(t).then((function(e){return function(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}(Math.random()*R,e)})).then((function(e){return e.json()})).then((function(e){if(200!==e.cod)throw new Error;X(e.name),a(e),function(e,t){z("metric"===t?[{scale:"c",temp:x(e,(function(e){return e}))},{scale:"f",temp:x(e,f)}]:[{scale:"f",temp:x(e,(function(e){return e}))},{scale:"c",temp:x(e,m)}]),console.log(JSON.stringify(H))}(e.main.temp,h),F(!1)})).catch((function(e){N(!0),F(!1),console.error(e.message)}))}else N(0)},city:s,mykey:k,unit:h,sleepTime:R,handleCity:X,handleKey:function(e){B(e)},handleUnit:function(e){g(e)},handleSleepTime:function(e){E(e)}}),Object(u.jsx)("button",{className:O.a.Button,onClick:function(){return X("")},children:"Clear City"}),Object(u.jsx)(j,{responseObj:n,error:y,loading:w})]})},_=n(4),v=n.n(_),y=function(){return Object(u.jsxs)("div",{className:v.a.sky,children:[Object(u.jsx)("div",{className:v.a.circle}),Object(u.jsx)("div",{className:v.a.cloud1}),Object(u.jsx)("div",{className:v.a.cloud2}),Object(u.jsx)("div",{className:v.a.cloud3})]})};var N=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)(y,{}),Object(u.jsx)("h1",{children:" Reactive Weather App"}),Object(u.jsx)("main",{children:Object(u.jsx)(g,{})}),Object(u.jsx)("footer",{children:"Page created by tnobile."})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),C()}],[[16,1,2]]]);
//# sourceMappingURL=main.cd4f903d.chunk.js.map