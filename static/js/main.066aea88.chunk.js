(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={textInput:"Inputs_textInput__1Q7rr",container:"Inputs_container__3wSTp",item:"Inputs_item__Rlqcq",Radio:"Inputs_Radio__13F7R",Button:"Inputs_Button__1ZGFN"}},function(e,t,n){e.exports={circle:"Logo_circle__937iU",sky:"Logo_sky__URz1p",cloud1:"Logo_cloud1__30GQs",cloud2:"Logo_cloud2__ZhBIz",cloud3:"Logo_cloud3__LVX-M"}},function(e,t,n){e.exports={item:"Main_item__1bHHY",mainContent:"Main_mainContent__1YSgM"}},,function(e,t,n){e.exports={Wrapper:"Conditions_Wrapper__CR-UW",Small:"Conditions_Small__36UCH",Loader:"Conditions_Loader__2DCSb",spin:"Conditions_spin__1-tdY"}},function(e,t,n){e.exports={container:"Footer_container__3WzLB",item:"Footer_item__1vz04"}},,,function(e,t,n){e.exports={Button:"Forecast_Button__1owry"}},,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(10),s=n.n(i),o=(n(20),n(2)),r=(n(21),n(4)),l=n.n(r),u=n(0),j=function(){return Object(u.jsxs)("div",{className:l.a.sky,children:[Object(u.jsx)("div",{className:l.a.circle}),Object(u.jsx)("div",{className:l.a.cloud1}),Object(u.jsx)("div",{className:l.a.cloud2}),Object(u.jsx)("div",{className:l.a.cloud3})]})},d=n(7),b=n.n(d),m=function(e){return Object(u.jsxs)("div",{className:b.a.Wrapper,children:[e.error&&Object(u.jsx)("small",{className:b.a.Small,children:"Please enter a valid city and key."}),e.loading&&Object(u.jsx)("div",{className:b.a.Loader}),200===e.responseObj.cod?Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:e.responseObj.name})}),Object(u.jsxs)("p",{children:["It is currently ",Math.round(e.responseObj.main.temp)," degrees out with ",e.responseObj.weather[0].description,"."]})]}):null]})},h=n(3),p=n.n(h),O=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Find Current Weather Conditions"}),Object(u.jsxs)("form",{onSubmit:e.getForecast,children:[Object(u.jsxs)("div",{className:p.a.container,children:[Object(u.jsx)("label",{className:p.a.item,children:"sleep time"}),Object(u.jsx)("input",{type:"text",placeholder:"Enter SleepTime",maxLength:"49",className:[p.a.textInput,p.a.item].join(" "),value:e.sleepTime,onChange:function(t){return e.handleSleepTime(t.target.value)}})]}),Object(u.jsxs)("div",{className:p.a.container,children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter City",maxLength:"49",className:[p.a.textInput,p.a.item].join(" "),value:e.city,onChange:function(t){return e.handleCity(t.target.value)}}),Object(u.jsx)("button",{type:"button",className:p.a.Button,onClick:function(){return e.handleCity("")},children:"x"})]}),Object(u.jsxs)("label",{className:p.a.Radio,children:[Object(u.jsx)("input",{type:"radio",name:"units",checked:"imperial"===e.unit,value:"imperial",onChange:function(t){return e.handleUnit(t.target.value)}}),"Fahrenheit"]}),Object(u.jsxs)("label",{className:p.a.Radio,children:[Object(u.jsx)("input",{type:"radio",name:"units",checked:"metric"===e.unit,value:"metric",onChange:function(t){return e.handleUnit(t.target.value)}}),"Celcius"]}),Object(u.jsx)("button",{className:p.a.Button,type:"submit",children:"Get Forecast"})]})]})},y=n(11),x=n.n(y);function f(e){return 5*(e-32)/9}function _(e){return 9*e/5+32}function g(e,t){var n=parseFloat(e);if(Number.isNaN(n))return"";var c=t(n);return(Math.round(1e3*c)/1e3).toString()}var v=function(e){var t=Object(c.useState)({}),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)("metric"),r=Object(o.a)(s,2),l=r[0],j=r[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),h=b[0],p=b[1],y=Object(c.useState)(!1),v=Object(o.a)(y,2),C=v[0],S=v[1],N=Object(c.useState)(1e3),I=Object(o.a)(N,2),K=I[0],L=I[1],k=Object(c.useState)(),w=Object(o.a)(k,2),F=w[0],B=w[1],R=Object(c.useState)(),T=Object(o.a)(R,2),M=T[0],U=T[1],W=Object(c.useState)([{scale:"c",temp:0},{scale:"f",temp:0}]),E=Object(o.a)(W,2),P=E[0],J=E[1];return Object(c.useEffect)((function(){return console.log(JSON.stringify(P))}),[P]),Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){U(e.coords.latitude),B(e.coords.longitude)})),console.log("Latitude is:",M),console.log("Longitude is:",F)}),[M,F]),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:P[0].temp?JSON.stringify(P):""}),Object(u.jsx)(O,{getForecast:function(t){t.preventDefault();var n=e.myKey;if(n&&0!==n.length){p(!1),i({}),S(!0);var c=encodeURIComponent(e.city),a=e.city?"https://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&units=").concat(l,"&appid=").concat(n):"https://api.openweathermap.org/data/2.5/weather?lat=".concat(M,"&lon=").concat(F,"&units=").concat(l,"&appid=").concat(n);console.log(a),fetch(a).then((function(e){return function(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}(Math.random()*K,e)})).then((function(e){return e.json()})).then((function(t){if(200!==t.cod)throw new Error;e.handleCity(t.name,e.cityId),i(t),function(e,t){J("metric"===t?[{scale:"c",temp:g(e,(function(e){return e}))},{scale:"f",temp:g(e,_)}]:[{scale:"f",temp:g(e,(function(e){return e}))},{scale:"c",temp:g(e,f)}]),console.log(JSON.stringify(P))}(t.main.temp,l),S(!1)})).catch((function(e){p(!0),S(!1),console.error(e.message)}))}else p(0)},city:e.city,mykey:e.myKey,unit:l,sleepTime:K,handleCity:e.handleCity,handleUnit:function(e){j(e)},handleSleepTime:function(e){L(e)}}),Object(u.jsx)("button",{className:x.a.Button,onClick:function(){return e.handleCity("")},children:"Clear City"}),Object(u.jsx)(m,{responseObj:a,error:h,loading:C})]})},C=n(5),S=n.n(C),N=function(e){var t=Object(c.useState)("Tokyo"),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)("London"),r=Object(o.a)(s,2),l=r[0],j=r[1],d=Object(c.useState)("Barcelona"),b=Object(o.a)(d,2),m=b[0],h=b[1],p=Object(c.useState)(""),O=Object(o.a)(p,2),y=O[0],x=O[1];return Object(u.jsxs)("div",{className:S.a.mainContent,children:[Object(u.jsx)("div",{className:S.a.item,children:Object(u.jsx)(v,{myKey:e.myKey,city:a,cityId:"city1",handleCity:function(e,t){i(e)}})}),Object(u.jsx)("div",{className:S.a.item,children:Object(u.jsx)(v,{myKey:e.myKey,city:l,cityId:"city2",handleCity:function(e,t){j(e)}})}),Object(u.jsx)("div",{className:S.a.item,children:Object(u.jsx)(v,{myKey:e.myKey,city:m,cityId:"city3",handleCity:function(e,t){h(e)}})}),Object(u.jsx)("div",{className:S.a.item,children:Object(u.jsx)(v,{myKey:e.myKey,city:y,cityId:"city4",handleCity:function(e,t){x(e)}})})]})},I=n(12),K=n(13),L=n(6),k=n(15),w=n(14),F=n(8),B=n.n(F),R=function(e){Object(k.a)(n,e);var t=Object(w.a)(n);function n(e){var c;return Object(I.a)(this,n),(c=t.call(this,e)).state={myKey:""},c.handleChange=c.handleChange.bind(Object(L.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(L.a)(c)),c}return Object(K.a)(n,[{key:"handleChange",value:function(e){this.setState({myKey:e.target.value})}},{key:"handleSubmit",value:function(e){alert("submitting:"+this.state.myKey),this.props.handleSubmit(this.state.myKey),e.preventDefault()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:B.a.container,children:[Object(u.jsx)("div",{className:B.a.item,children:"Page created by tnobile."}),Object(u.jsx)("div",{className:B.a.item,children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsxs)("label",{children:["Key:",Object(u.jsx)("input",{type:"text",value:this.state.myKey,onChange:this.handleChange})]}),Object(u.jsx)("input",{type:"submit",value:"sub"})]})})]})}}]),n}(a.a.Component);var T=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)(j,{}),Object(u.jsx)("h1",{children:" Reactive Weather App"})]}),Object(u.jsx)("main",{children:Object(u.jsx)(N,{myKey:n})}),Object(u.jsx)("footer",{children:Object(u.jsx)(R,{handleSubmit:function(e){a(e)}})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),M()}],[[23,1,2]]]);
//# sourceMappingURL=main.066aea88.chunk.js.map